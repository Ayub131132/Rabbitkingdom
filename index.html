<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rabbit Kingdom üêá</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #5b0fff, #9d4eff);
        color: white;
        text-align: center;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .container {
        background: rgba(255, 255, 255, 0.15);
        padding: 20px;
        border-radius: 20px;
        width: 90%;
        max-width: 400px;
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
      }
      h2 {
        margin-top: 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Welcome to Rabbit Kingdom üêá</h2>
      <p id="userInfo">Connecting to Telegram...</p>
      <p id="coins">üí∞ Coins: 0</p>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      const tg = window.Telegram.WebApp;

      // Automatically expand the mini app to full view
      tg.expand();

      // Get Telegram user data automatically
      const user = tg.initDataUnsafe?.user;

      if (user) {
        // Display Telegram user details
        document.getElementById("userInfo").innerText =
          `Hello, ${user.first_name} ${user.last_name || ''} (@${user.username || 'unknown'})`;
      } else {
        document.getElementById("userInfo").innerText = "Unable to fetch Telegram user üò¢";
      }

      // Example: send data to your backend (optional)
      async function sendUserDataToBackend() {
        await fetch("https://your-backend-url.com/api/login", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            id: user.id,
            username: user.username,
            name: user.first_name,
          }),
        });
      }

      if (user) sendUserDataToBackend();
    </script>
  </body>
</html>
